<!DOCTYPE html>
<html>
<head>
  <title>Crypto Blog Code Generator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    button { padding: 10px 20px; margin: 10px 5px; }
    textarea { width: 100%; height: 400px; margin-top: 10px; }
    .loading { font-weight: bold; color: green; }
  </style>
</head>
<body>

<h2>ğŸª™ Auto Blog HTML Generator (Crypto Updates)</h2>

<button onclick="generateRecentCoins()">ğŸ“¥ Recently Added Coins</button>
<button onclick="generateTopGainers()">ğŸ“ˆ Top Gainers (24h)</button>

<p id="status" class="loading"></p>
<textarea id="blogOutput" placeholder="Blog HTML will appear here..."></textarea>

<script>
function getTodayDate() {
  const today = new Date();
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  return today.toLocaleDateString(undefined, options);
}

async function generateRecentCoins() {
  const output = document.getElementById("blogOutput");
  const status = document.getElementById("status");
  status.textContent = "Fetching recently added coins...";
  output.value = "";

  try {
    const res = await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_asc&per_page=10&page=1&sparkline=false");
    const coins = await res.json();

    let html = `<h2>ğŸ†• Recently Added Coins â€“ ${getTodayDate()}</h2>\n<ul>\n`;

    coins.forEach(coin => {
      html += `
  <li>
    <strong>${coin.name} (${coin.symbol.toUpperCase()})</strong><br>
    Price: $${coin.current_price}<br>
    Market Cap: $${coin.market_cap.toLocaleString()}<br>
    <img src="${coin.image}" alt="${coin.name}" width="32" height="32"><br>
    <a href="https://www.coingecko.com/en/coins/${coin.id}" target="_blank">ğŸ”— View on CoinGecko</a>
  </li>\n<hr>`;
    });

    html += "</ul>\n<p>â± Updated: " + new Date().toLocaleString() + "</p>";

    output.value = html;
    status.textContent = "âœ… Recent coins HTML generated!";
  } catch (error) {
    status.textContent = "âŒ Failed to load recent coins.";
    console.error(error);
  }
}

async function generateTopGainers() {
  const output = document.getElementById("blogOutput");
  const status = document.getElementById("status");
  status.textContent = "Fetching top gainers (24h)...";
  output.value = "";

  try {
    const res = await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=price_change_percentage_24h_desc&per_page=10&page=1&sparkline=false&price_change_percentage=24h");
    const coins = await res.json();

    let html = `<h2>ğŸ“ˆ Top Gainers in Last 24 Hours â€“ ${getTodayDate()}</h2>\n<ul>\n`;

    coins.forEach(coin => {
      html += `
  <li>
    <strong>${coin.name} (${coin.symbol.toUpperCase()})</strong><br>
    Price: $${coin.current_price}<br>
    24h Change: <span style="color:green;">+${coin.price_change_percentage_24h.toFixed(2)}%</span><br>
    <img src="${coin.image}" alt="${coin.name}" width="32" height="32"><br>
    <a href="https://www.coingecko.com/en/coins/${coin.id}" target="_blank">ğŸ”— View on CoinGecko</a>
  </li>\n<hr>`;
    });

    html += "</ul>\n<p>â± Updated: " + new Date().toLocaleString() + "</p>";

    output.value = html;
    status.textContent = "âœ… Top gainers HTML generated!";
  } catch (error) {
    status.textContent = "âŒ Failed to load top gainers.";
    console.error(error);
  }
}
</script>

</body>
</html>
